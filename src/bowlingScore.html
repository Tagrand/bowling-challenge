<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tom's super cool bowling scorecard</title>
    <script src='frame.js'></script>
    <script src='game.js'></script>
    <script>
     document.addEventListener('DOMContentLoaded', () => {
      game = new Game(Frame);
      setScore = function() {
      document.getElementById('currentScore').innerHTML = game.score()
      }
        roll = function(value) { game.play(value); setScore(); showScores(); };

        createButtons = function(){
        for(let i =10; i >= 0; i -= 1) {
          let btn = document.createElement('button');
          btn.id = i
          btn.onclick = function() {roll(i)};
          let t = document.createTextNode(i);
          btn.appendChild(t)
          document.getElementById('changeScores').appendChild(btn);
        }
      }
        showScores = function(){
        let scores = '';
        console.log(game.runningScores());
        game.runningScores().forEach((score) => {
          scores += score + " ";
          console.log(score);
        });
        console.log(scores);
        document.getElementById('eachScore').innerHTML = scores;
        }

      setScore();
      createButtons();
      showScores();


    });
    </script>

  </head>
  <body>
   <div id='changeScores'> </div>
   <p> Current Score: <span id = 'currentScore'> Testing</span> </p>
   <table>
     <p id ='eachScore'> </p>
   </table>

  </body>
</html>
